const nav=document.querySelector(".nav"),navToggle=document.querySelector(".nav__toggle");nav.classList.remove("nav--nojs"),nav.classList.add("nav--closed"),navToggle.addEventListener("click",(function(){nav.classList.contains("nav--closed")?(nav.classList.remove("nav--closed"),nav.classList.add("nav--opened")):(nav.classList.add("nav--closed"),nav.classList.remove("nav--opened"))}));const tabs=document.querySelectorAll(".tabs-header__tab"),slides=document.querySelectorAll(".country-description__country-item"),addSliderClickHandler=function(e,t){e.addEventListener("click",(function(){for(let e=0;e<tabs.length;e++)tabs[e].classList.remove("tabs-header__tab--active"),slides[e].classList.remove("country-description__country-item--active");t.classList.add("country-description__country-item--active"),e.classList.add("tabs-header__tab--active")}))};for(let e=0;e<tabs.length;e++)addSliderClickHandler(tabs[e],slides[e]);const placesButtons=document.querySelectorAll(".places-item__button"),onPlacesButtonsClick=function(e,t,o){e.addEventListener("click",(function(){for(let e=0;e<tabs.length;e++)tabs[e].classList.remove("tabs-header__tab--active"),slides[e].classList.remove("country-description__country-item--active");o.classList.add("country-description__country-item--active"),t.classList.add("tabs-header__tab--active")}))};for(let e=0;e<tabs.length;e++)onPlacesButtonsClick(placesButtons[e],tabs[e],slides[e]);const overlay=document.querySelector(".overlay"),popup=document.querySelector(".popup"),popupForm=document.querySelector(".popup__form"),popupClose=document.querySelector(".popup__close"),buttonsBuyTour=document.querySelectorAll(".button-buy-tour"),popupTel=document.querySelector(".popup__tel"),popupEmail=document.querySelector(".popup__email"),successAlert=document.querySelector(".success-alert"),successAlertClose=document.querySelector(".success-alert__close"),popupButton=document.querySelector(".popup__button");popupTel.addEventListener("invalid",()=>{title.validity.valueMissing?title.setCustomValidity("Обязательное поле"):title.setCustomValidity("")}),popupEmail.addEventListener("invalid",()=>{title.validity.valueMissing?title.setCustomValidity("Обязательное поле"):title.setCustomValidity("")});let isStorageSupport=!0,storageTel="",storageEmail="";try{storageTel=localStorage.getItem("tel"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}const closeModal=()=>{popup.classList.remove("modal-show"),overlay.classList.remove("modal-show"),successAlert.classList.remove("modal-show")},openModal=()=>{popup.classList.add("modal-show"),overlay.classList.add("modal-show")},addPopupListeners=()=>{document.addEventListener("keydown",isEscKeydown),popupClose.addEventListener("click",onPopupCloseClick),successAlertClose.addEventListener("click",onSuccessAlertCloseClick),overlay.addEventListener("click",onOverlayClick)},removePopupListeners=()=>{document.removeEventListener("keydown",isKeydown),overlay.removeEventListener("click",onOverlayClick),popupClose.removeEventListener("click",onPopupCloseClick),overlay.removeEventListener("click",onOverlayClick)},isEscKeydown=function(e){27===e.keyCode&&(e.preventDefault(),closeModal(),removePopupListeners(),removeQuestionListeners())},onOverlayClick=()=>{closeModal(),removePopupListeners(),removeQuestionListeners()},onPopupCloseClick=function(e){e.preventDefault(),closeModal(),removePopupListeners()},onSuccessAlertCloseClick=function(e){e.preventDefault(),closeModal(),removePopupListeners(),removeQuestionListeners()},onButtonTourClick=e=>{e.preventDefault(),popup.classList.add("modal-show"),overlay.classList.add("modal-show"),document.addEventListener("keydown",isEscKeydown),popupClose.addEventListener("click",onPopupCloseClick),successAlertClose.addEventListener("click",onSuccessAlertCloseClick),overlay.addEventListener("click",onOverlayClick),storageTel?(popupTel.value=storageTel,popupEmail.focus()):popupTel.focus(),storageEmail?popupEmail.value=storageEmail:popupTel.focus()};for(let e=0;e<buttonsBuyTour.length;e++)buttonsBuyTour[e].addEventListener("click",onButtonTourClick);popupForm.addEventListener("submit",e=>{e.preventDefault(),successAlert.classList.add("modal-show"),isStorageSupport&&(localStorage.setItem("name",popupTel.value),localStorage.setItem("email",poupEmail.value))});const questionForm=document.querySelector(".question__form"),addQustionListeners=()=>{document.addEventListener("keydown",isEscKeydown),successAlertClose.addEventListener("click",onSuccessAlertCloseClick),overlay.addEventListener("click",onOverlayClick)},removeQuestionListeners=()=>{document.removeEventListener("keydown",isEscKeydown),successAlertClose.removeEventListener("click",onSuccessAlertCloseClick),overlay.removeEventListener("click",onOverlayClick)};questionForm.addEventListener("submit",e=>{e.preventDefault(),overlay.classList.add("modal-show"),successAlert.classList.add("modal-show"),document.addEventListener("keydown",isEscKeydown),successAlertClose.addEventListener("click",onSuccessAlertCloseClick),overlay.addEventListener("click",onOverlayClick),isStorageSupport&&(localStorage.setItem("name",popupTel.value),localStorage.setItem("email",poupEmail.value))});const smoothLinks=document.querySelectorAll('a[href^="#"]');for(let e of smoothLinks)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth",block:"start"})}));const swiper=new Swiper(".swiper-container",{direction:"horizontal",loop:!1,simulateTouch:!1,slidesPerView:5,centeredSlides:!1,spaceBetween:0,breakpoints:{320:{slidesPerView:2,spaceBetween:0},768:{slidesPerView:4,spaceBetween:0},1024:{slidesPerView:5,spaceBetween:0}}});